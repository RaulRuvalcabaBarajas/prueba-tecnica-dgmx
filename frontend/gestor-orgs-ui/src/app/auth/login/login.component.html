<div class="login-container">
	<mat-card class="login-card">
		<mat-card-header>
			<mat-card-title>Iniciar Sesión</mat-card-title>
		</mat-card-header>

		<form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
			<mat-card-content>
				<mat-form-field appearance="outline" class="full-width">
					<mat-label>Nombre de usuario</mat-label>
					<input matInput formControlName="username" placeholder="Usuario" required>
					<mat-icon matSuffix>person</mat-icon>
					<mat-error *ngIf="f['username'].errors?.['required']">El nombre de usuario
						es obligatorio</mat-error>
				</mat-form-field>

				<mat-form-field appearance="outline" class="full-width">
					<mat-label>Contraseña</mat-label>
					<input matInput [type]="hide ? 'password' : 'text'"
						formControlName="password" placeholder="Contraseña" required>
					<button type="button" mat-icon-button matSuffix (click)="hide = !hide"
						[attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
						<mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
					</button>
					<mat-error *ngIf="f['password'].errors?.['required']">La contraseña es
						obligatoria</mat-error>
					<mat-error *ngIf="f['password'].errors?.['minlength']">La contraseña debe
						tener al menos 8 caracteres</mat-error>
				</mat-form-field>

				<div class="form-actions">
					<a class="forgot-password" (click)="forgotPassword()">¿Olvidaste tu
						contraseña?</a>
				</div>

			</mat-card-content>
			<mat-card-actions align="end">
				<button mat-button type="button" routerLink="/register">Registrarse</button>
				<button mat-raised-button color="primary" type="submit"
					[disabled]="loginForm.invalid || loading">
					<mat-spinner diameter="20" *ngIf="loading"></mat-spinner>
					<span *ngIf="!loading">Iniciar Sesión</span>
				</button>
			</mat-card-actions>
		</form>
	</mat-card>
</div>
